{"version":3,"sources":["class-list.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YA2BA;gBAYI,YAAkE,OAA0B,EACxE,WAAwB;oBADsB,YAAO,GAAP,OAAO,CAAmB;oBACxE,gBAAW,GAAX,WAAW,CAAa;oBAXpC,gBAAW,GAAU,GAAG,CAAC;oBACzB,eAAU,GAAU,QAAQ,CAAC;oBAE9B,qBAAgB,GAAW,IAAI,CAAC;gBAQQ,CAAC;gBAEhD,QAAQ;oBACJ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;gBAC9D,CAAC;gBAED,IAAI;oBACA,IAAI,UAAU,GAAa,EAAE,CAAC;oBAC9B,GAAG,CAAA,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,CAAA,CAAC;wBAC7B,EAAE,CAAA,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,CAAA,CAAC;4BAC3B,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAA;wBACrC,CAAC;oBACL,CAAC;oBACD,IAAI,CAAC,IAAI,GAAG,IAAI,WAAI,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,EACxE,UAAU,EACV,EAAE,EACF,EAAE,EACF,EAAE,EACF,EAAE,CAAC,CAAC;oBAEJ,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACrC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,SAAS,CAC9C,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EACzC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC,EACrB,MAAM,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAC5C,CAAC;oBACF,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;oBAC5B,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,EAAE,CAAC;gBACpC,CAAC;gBAED,OAAO;oBACH,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;gBAChC,CAAC;YAEL,CAAC;YA1DD;gBAAC,gBAAS,CAAC;oBACP,QAAQ,EAAE,YAAY;oBACtB,WAAW,EAAE,6BAA6B;oBAC1C,UAAU,EAAE,CAAE,iCAAiB,EAAE,wBAAe,EAAE,wBAAe,EAAE,2CAAmB,EAAE,wBAAQ,CAAE;oBAClG,MAAM,EAAE,CAAC,SAAS,CAAC;iBACtB,CAAC;2BAkBe,aAAM,CAAC,iBAAU,CAAC,MAAM,wCAAkB,CAAC,CAAC;;kCAlB3D;YAMF,mDA+CC,CAAA","file":"class-list.component.js","sourcesContent":["/**\n * Created by kfraser on 13/03/2016.\n */\nimport {Component, Inject, forwardRef} from 'angular2/core';\nimport { CORE_DIRECTIVES, FORM_DIRECTIVES } from 'angular2/common';\n\nimport {BUTTON_DIRECTIVES} from 'ng2-bootstrap/ng2-bootstrap';\nimport {User} from \"./models/user\";\nimport {HTTPService} from \"./services/http-service\";\nimport {DashboardComponent} from \"./dashboard.component\";\nimport {ClassInputComponent} from \"./class-input.component\";\nimport {Alert, Collapse} from \"ng2-bootstrap/ng2-bootstrap\";\nimport {OnInit} from \"angular2/core\";\n\ndeclare var io: any;\n\n@Component({\n    selector: 'class-list',\n    templateUrl: 'views/class_list_modal.html',\n    directives: [ BUTTON_DIRECTIVES, CORE_DIRECTIVES, FORM_DIRECTIVES, ClassInputComponent, Collapse ],\n    inputs: ['classes'],\n})\n\n/**\n * This component is a modal that appears when the user clicks on the all\n * classes button on the dashboard.\n */\nexport class ClassListComponent implements OnInit{\n\n    private singleModel:string = '1';\n    private radioModel:string = 'Middle';\n\n    public isCollapsedClass:boolean = true;\n\n    public classes;\n\n    user: User;\n    auth: string;\n\n    constructor(@Inject(forwardRef(() => DashboardComponent)) private _parent:DashboardComponent,\n                private httpService: HTTPService) {}\n\n    ngOnInit(){\n        this.auth = JSON.parse(localStorage.getItem('user')).auth;\n    }\n\n    save() {\n        var joinedList :string[] = [];\n        for(var lecture of this.classes){\n            if(lecture['joined'] === true){\n                joinedList.push(lecture['class'])\n            }\n        }\n        this.user = new User(JSON.parse(localStorage.getItem('profile')).user_id,\n        joinedList,\n        [],\n        [],\n        \"\",\n        \"\");\n\n        var json = JSON.stringify(this.user);\n        this.httpService.updateUserClasses(json).subscribe(\n            data => console.log(JSON.stringify(data)),\n            error => alert(error),\n            () => console.log(\"User classes updated\")\n        );\n        this._parent.getClassList();\n        this._parent.selectedClass = '';\n    }\n\n    refresh(){\n        this._parent.getClassList();\n    }\n\n}"],"sourceRoot":"/source/"}