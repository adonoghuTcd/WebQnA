{"version":3,"sources":["class-list.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAwBA;gBASI,4BAAkE,OAA0B,EACxE,WAAwB;oBADsB,YAAO,GAAP,OAAO,CAAmB;oBACxE,gBAAW,GAAX,WAAW,CAAa;oBARpC,gBAAW,GAAU,GAAG,CAAC;oBACzB,eAAU,GAAU,QAAQ,CAAC;gBAOU,CAAC;gBAEhD,iCAAI,GAAJ;oBACI,IAAI,UAAU,GAAa,EAAE,CAAC;oBAC9B,GAAG,CAAA,CAAgB,UAAY,EAAZ,KAAA,IAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY,CAAC;wBAA5B,IAAI,OAAO,SAAA;wBACX,EAAE,CAAA,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,CAAA,CAAC;4BAC3B,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAA;wBACrC,CAAC;qBACJ;oBACD,IAAI,CAAC,IAAI,GAAG,IAAI,WAAI,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,EACxE,UAAU,EACV,EAAE,EACF,EAAE,EACF,EAAE,EACF,EAAE,CAAC,CAAC;oBAEJ,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACrC,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,SAAS,CAC9C,UAAA,IAAI,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,EAAjC,CAAiC,EACzC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,KAAK,CAAC,EAAZ,CAAY,EACrB,cAAM,OAAA,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,EAAnC,CAAmC,CAC5C,CAAC;gBACN,CAAC;gBA3CL;oBAAC,gBAAS,CAAC;wBACP,QAAQ,EAAE,YAAY;wBACtB,WAAW,EAAE,6BAA6B;wBAC1C,UAAU,EAAE,CAAE,iCAAiB,EAAE,wBAAe,EAAE,wBAAe,CAAE;wBACnE,MAAM,EAAE,CAAC,SAAS,CAAC;qBACtB,CAAC;+BAee,aAAM,CAAC,iBAAU,CAAC,cAAM,OAAA,wCAAkB,EAAlB,CAAkB,CAAC,CAAC;;sCAf3D;gBAwCF,yBAAC;YAAD,CAlCA,AAkCC,IAAA;YAlCD,mDAkCC,CAAA","file":"class-list.component.js","sourcesContent":["/**\r\n * Created by kfraser on 13/03/2016.\r\n */\r\nimport {Component, Inject, forwardRef} from 'angular2/core';\r\nimport { CORE_DIRECTIVES, FORM_DIRECTIVES } from 'angular2/common';\r\n\r\nimport {BUTTON_DIRECTIVES} from 'ng2-bootstrap/ng2-bootstrap';\r\nimport {User} from \"./models/user\";\r\nimport {HTTPService} from \"./services/http-service\";\r\nimport {DashboardComponent} from \"./dashboard.component\";\r\n\r\ndeclare var io: any;\r\n\r\n@Component({\r\n    selector: 'class-list',\r\n    templateUrl: 'views/class_list_modal.html',\r\n    directives: [ BUTTON_DIRECTIVES, CORE_DIRECTIVES, FORM_DIRECTIVES ],\r\n    inputs: ['classes'],\r\n})\r\n\r\n/**\r\n * This component is a modal that appears when the user clicks on the all\r\n * classes button on the dashboard.\r\n */\r\nexport class ClassListComponent{\r\n\r\n    private singleModel:string = '1';\r\n    private radioModel:string = 'Middle';\r\n\r\n    public classes;\r\n\r\n    user: User;\r\n\r\n    constructor(@Inject(forwardRef(() => DashboardComponent)) private _parent:DashboardComponent,\r\n                private httpService: HTTPService) {}\r\n\r\n    save() {\r\n        var joinedList :string[] = [];\r\n        for(var lecture of this.classes){\r\n            if(lecture['joined'] === true){\r\n                joinedList.push(lecture['class'])\r\n            }\r\n        }\r\n        this.user = new User(JSON.parse(localStorage.getItem('profile')).user_id,\r\n        joinedList,\r\n        [],\r\n        [],\r\n        \"\",\r\n        \"\");\r\n\r\n        var json = JSON.stringify(this.user);\r\n        this.httpService.updateUserClasses(json).subscribe(\r\n            data => console.log(JSON.stringify(data)),\r\n            error => alert(error),\r\n            () => console.log(\"User classes updated\")\r\n        );\r\n    }\r\n\r\n}"],"sourceRoot":"/source/"}